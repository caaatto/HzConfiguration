<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Release</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProjectGuid>{8A7F9C3E-4D2B-4A1C-9E8F-6B3D5C2A1E4F}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>DisplayUtilLive</RootNamespace>
    <AssemblyName>DisplayUtilLive</AssemblyName>
    <TargetFrameworkVersion>v4.7.2</TargetFrameworkVersion>
    <FileAlignment>512</FileAlignment>
    <Deterministic>true</Deterministic>
    <LangVersion>latest</LangVersion>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <Prefer32Bit>false</Prefer32Bit>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="System.Core" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="DisplayUtilLive.cs" />
  </ItemGroup>
  <ItemGroup>
    <None Include="Build-DLL.ps1" />
    <None Include="Test-DLL.ps1" />
    <None Include="README.md" />
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
  <!-- Post-Build Event: Kopiere DLL nach bin\ und C:\Local\Files -->
  <PropertyGroup>
    <PostBuildEvent>
      echo === Post-Build: Kopiere DLL ===

      REM Lokales bin\ Verzeichnis
      if not exist "$(ProjectDir)bin\" mkdir "$(ProjectDir)bin\"
      copy /Y "$(TargetPath)" "$(ProjectDir)bin\"
      copy /Y "$(TargetDir)$(TargetName).pdb" "$(ProjectDir)bin\" 2&gt;nul
      echo ✓ Kopiert nach: $(ProjectDir)bin\$(TargetFileName)

      REM C:\Local\Files Verzeichnis (für portable Deployment)
      if not exist "C:\Local\Files\" mkdir "C:\Local\Files\"
      copy /Y "$(TargetPath)" "C:\Local\Files\"
      if %errorlevel% equ 0 (
        echo ✓ Kopiert nach: C:\Local\Files\$(TargetFileName)
      ) else (
        echo ✗ FEHLER beim Kopieren nach C:\Local\Files (Admin-Rechte erforderlich?)
      )

      echo === Build erfolgreich ===
    </PostBuildEvent>
  </PropertyGroup>
</Project>
